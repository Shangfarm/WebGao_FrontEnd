<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GẠO VIỆT - Thống Kê</title>

    <!-- Bootstrap + Font + CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Volkhov&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet" />
</head>
<body>
    <!-- Header Navbar -->
    <header class="main-header fixed-top">
        <div class="container logo">
            <nav class="navbar navbar-expand-lg stroke">
                <h1>
                    <a class="navbar-brand index-responsive-color d-flex align-items-center" href="/pages/TrangChu/home.html">
                        FamRice <i class="fa fa-leaf" aria-hidden="true"></i>
                    </a>
                </h1>
                <div class="navbar-right ms-auto d-flex align-items-center gap-3">
                    <div class="search-box-container">
                        <form id="search-form" class="search-box-form d-flex align-items-center shadow-sm rounded-pill px-2" style="background: #fff;">
                            <input id="search-input" type="text" class="form-control border-0 rounded-pill" placeholder="Tìm kiếm..." style="width: 160px; outline: none; box-shadow: none;" />
                            <button type="submit" class="btn search-button d-flex align-items-center justify-content-center rounded-pill">
                                <i class="fa fa-search text-white"></i>
                            </button>
                        </form>
                    </div>

                    <div class="cart-icon position-relative">
                        <a href="/pages/GioHang/GioHang.html">
                            <i class="fa fa-shopping-cart fa-lg icon-colored"></i>
                            <span id="cart-count" class="badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle" style="font-size: 12px; display: none;">0</span>
                        </a>
                    </div>

                    <button class="btn-theme bg-transparent border-0">
                        <i class="fa-regular fa-moon fa-lg icon-colored"></i>
                    </button>

                    <div class="dropdown">
                        <input type="checkbox" id="dropdown-toggle" hidden />
                        <label for="dropdown-toggle" class="dropbtn">
                            <i class="fa fa-bars fa-lg icon-colored"></i>
                        </label>
                        <div class="dropdown-content">
                            <a href="/pages/TrangChu/home.html">TRANG CHỦ</a>
                            <a href="/pages/GioiThieu/GioiThieu.html">GIỚI THIỆU</a>
                            <a href="/pages/SanPham/SanPham.html">SẢN PHẨM</a>
                            <a href="/pages/DSSPYeuThich/YeuThich.html">SẢN PHẨM YÊU THÍCH</a>
                            <a href="/pages/LichSuMuaHang/LichSuMuaHang.html">LỊCH SỬ MUA HÀNG</a>
                            <a href="/pages/ThongTin/ThongTin.html">THÔNG TIN</a>
                            <a href="/pages/LienHe/LienHe.html">LIÊN HỆ</a>
                            <a href="/pages/HoSo/HoSo.html">HỒ SƠ</a>
                            <a href="/pages/GioHang/GioHang.html">GIỎ HÀNG</a>
                            <li id="menu-discount"><a href="/pages/CTGiamGia/CTGiamGia.html">CHƯƠNG TRÌNH GIẢM GIÁ</a></li>
                            <li id="menu-stats"><a href="/pages/ThongKe/ThongKe.html">THỐNG KÊ</a></li>
                            <li id="menu-shipping"><a href="/pages/PTVanChuyen/PTVanChuyen.html">PHƯƠNG THỨC VẬN CHUYỂN</a></li>
                            <a href="/pages/DangNhap/DangNhap.html" id="login-link">ĐĂNG NHẬP/ĐĂNG KÝ</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Nội dung Thống Kê -->
    <main style="margin-top: 100px; padding: 1rem;">
        <!-- ComboBox chọn hiển thị -->
        <div class="mb-3 d-flex justify-content-end">
            <select id="chartSelector" class="form-select w-auto">
                <option value="all">Tất cả</option>
                <option value="sales-chart">Biểu đồ sản phẩm bán chạy</option>
                <option value="stock-chart">Biểu đồ tồn kho</option>
                <option value="product-table">Danh sách sản phẩm</option>
                <option value="sales-table">Đơn hàng gần đây</option>
                <option value="user-table">Tài khoản người dùng</option>
            </select>
        </div>

        <section class="stats">
            <div class="card" id="items-sales">Sản phẩm đã bán: <span>Đang tải...</span></div>
            <div class="card" id="new-orders">Đơn hàng mới: <span>Đang tải...</span></div>
            <div class="card" id="total-products">Tổng sản phẩm: <span>Đang tải...</span></div>
            <div class="card" id="new-visitors">Người dùng mới: <span>Đang tải...</span></div>
        </section>

        <section class="charts-row">
            <div id="sales-chart" class="chart-3-4">
                <h2>Biểu đồ sản phẩm bán chạy</h2>
                <div class="chart-container chart-sales">
                    <canvas id="salesChart"></canvas>
                </div>
            </div>

            <div id="stock-chart" class="chart-1-4">
                <h2>Biểu đồ sản phẩm tồn kho</h2>
                <div class="chart-container chart-stock">
                    <canvas id="stockChart"></canvas>
                </div>
            </div>
        </section>

        <section id="product-table" class="charts-row">
            <div class="chart-full">
                <h2>Danh sách sản phẩm</h2>
                <div class="table-card">
                    <table>
                        <thead>
                            <tr>
                                <th>Tên sản phẩm</th>
                                <th>Kho</th>
                                <th>Danh mục</th>
                            </tr>
                        </thead>
                        <tbody id="product-table-body"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <section class="two-column-tables">
            <div id="sales-table" class="table-card">
                <h2>Đơn hàng gần đây</h2>
                <table>
                    <thead>
                        <tr><th>Khách hàng</th><th>Tổng tiền</th><th>Thời gian</th></tr>
                    </thead>
                    <tbody id="sales-table-body"></tbody>
                </table>
            </div>

            <div id="user-table" class="table-card">
                <h2>Danh sách tài khoản người dùng</h2>
                <table>
                    <thead>
                        <tr><th>Họ tên</th><th>Email</th><th>Vai trò</th><th>Ngày tạo</th></tr>
                    </thead>
                    <tbody id="user-table-body"></tbody>
                </table>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script src="ThongKe.js"></script>
</body>
</html>
